{"version":3,"sources":["../src/schema.js"],"names":["typeDefs","gql"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;AAEO,IAAMA,QAAQ,OAAGC,wBAAH,oBAAd","sourcesContent":["import { gql } from 'apollo-server-express';\r\n\r\nexport const typeDefs = gql`\r\n  scalar DateTime\r\n\r\n  input BirthdayInput {\r\n    calendar: String!\r\n    date: String!\r\n  }\r\n\r\n  input PlaceInput {\r\n    province:String!\r\n    city:String\r\n    area:String\r\n    street:String\r\n    village:String\r\n  }\r\n\r\n  type PageInfo {\r\n    hasNextPage: Boolean!\r\n    hasPreviousPage: Boolean!\r\n    startCursor: String\r\n    endCursor: String\r\n  }\r\n\r\n\r\n\r\n  type Query {\r\n    me: User\r\n    searchUser(username:String!):User\r\n    cities(code:String!):[City]\r\n    areas(code:String!):[Area]\r\n    streets(code:String!):[Street]\r\n    villages(code:String!):[Village]\r\n    families:[Family]\r\n    findPasswords:[FindPassWord]\r\n    getFamiliesById(id:String):[Family]\r\n    getSchools(locationName:String,kind:String):[School]\r\n    getMajors(majorName:String):[Major]\r\n    getUniversities(universityName:String):[University]\r\n    getExamBasicInfo:CollegeEntranceExam\r\n    getRegStatus:RegStatus\r\n    getRegStatusApplicants(education:String,universityId:String,majorId:String):[User]\r\n    getRegStatusApplicantsById(regStatusId:String):[User]\r\n    getFamilyGroups:[FamilyGroup]\r\n    students(schoolEduId:String):[User]\r\n    classGroups(schoolEduId:String):[ClassGroup]\r\n    workGroups(companyId:String):[WorkGroup]\r\n    stations(text:String):[Station]\r\n    colleagues(companyId:String):[User]\r\n    oldColleagues(startTime:String,endTime:String,companyId:String):[User]\r\n    myOldColleagues(companyId:String):[OldColleague]\r\n    locationGroups:[LocationGroup]\r\n    locationGroupUsers(locationGroupId:String):[User]\r\n    photo(id:String,name:String):Photo\r\n    userInfo(id:String):User\r\n    messages:[Message]\r\n    bootInfo:BootCount\r\n    visitCount:VisitCount\r\n    advertisements:[Advertisement]\r\n    products:[Product]\r\n    loveMatch:LoveMatching\r\n    skills(name:String):[Skill]\r\n    projects:[Project]\r\n    partnerConditions(projectId:String):[PartnerCondition]\r\n    mypartnerConditions:[PartnerCondition]\r\n  }\r\n\r\n  type Mutation {\r\n    createDraft(title: String!, content: String!, authorEmail: String!): Post!\r\n    deletePost(id: ID!): Post\r\n    publish(id: ID!): Post\r\n    signup(username: String!, password: String!,deviceId:String!): AuthPayload!\r\n    login(username: String!, password: String!): AuthPayload!\r\n    changePassword(currentPassword:String!,newPassword: String!):User!\r\n    findPassword(forgetterId:String!): FindPassWord\r\n    addBasicInfo(name:String!,gender:String!,birthday:BirthdayInput!,birthplace:PlaceInput!,residence:PlaceInput!):User!\r\n    createFamily(name:String!,relationship:String!,spouseId:String):Family\r\n    updateFamily(id:ID!, name:String,relationship:String,spouseId:String,status:String):Family\r\n    deleteFamily(familyId:ID!,toId:ID!):Family\r\n    connectFamily(relativeId:ID!,familyId:ID!,name:String,relationship:String):Family\r\n    confirmFamily(familyId:ID!):Family\r\n    addLocation(location:PlaceInput,locationName:String):Location\r\n    addSchool(name:String,kind:String,locationName:String):School\r\n    addStudy(year:String,schoolId:String,majorId:String,grade:Int,className:String):SchoolEdu\r\n    addOrUpdateWork(companyName:String,startTime:String,endTime:String,department:String,stationId:String,updateId:String):Work\r\n    addExamBasicInfo(province:String, section:String, score:String, specialScore:String, examineeCardNumber:String):CollegeEntranceExam\r\n    updateExamBasicInfo(province:String, section:String, score:String, specialScore:String, examineeCardNumber:String):CollegeEntranceExam\r\n    addRegStatus(education:String,universityId:String,majorId:String):RegStatus\r\n    cancelRegStatus(id:String):RegStatus\r\n    addClassGroup(name:String,schoolEduId:String,studentId:String):ClassGroup\r\n    confirmClassGroup(schoolEduId:String,studentId:String):ClassGroup\r\n    addWorkGroup(companyId:String,workerId:String):WorkGroup\r\n    confirmWorkGroup(companyId:String,workerId:String):WorkGroup\r\n    addColleague(companyId:String,workerId:String):Colleague\r\n    confirmColleague(colleagueId:String):Colleague\r\n    addOldColleague(companyId:String,workerId:String):OldColleague\r\n    confirmOldColleague(companyId:String,workerId:String):OldColleague\r\n    postPhoto(uri:String):Photo\r\n    addAvatar(uri:String):Photo\r\n    sendMessage(toId:String,text:String,image:String):Message\r\n    sendGroupMessage(type:String,toId:String,text:String,image:String):GroupMessage\r\n    addAdvertisement(url:String,startTime:String):Advertisement\r\n    newTrade(productId:String,number:Int,amount:Float):Trade\r\n    addOrUpdateLoveSetting(myHeight:Int,myWeight:Int,otherHeightMin:Int,otherHeightMax:Int,\r\n      otherWeightMin:Int,otherWeightMax:Int,otherAgeMin:Int,otherAgeMax:Int,dateTime:String,datePlace:String\r\n    ):LoveSetting\r\n    addOrUpdateLoveSignUp:LoveSignUp\r\n    addSkill(name:String):Skill\r\n    createProject(name:String,content:String):Project\r\n    addPartnerCondition(skillName:String,number:Int,place:String,projectId:String):PartnerCondition\r\n    deletePartnerCondition(id:String):PartnerCondition\r\n    changePartner(conditionId:String,uid:String):PartnerCondition\r\n    refreshPartner(conditionId:String):PartnerCondition\r\n    refusePartner(conditionId:String):PartnerCondition\r\n  }\r\n\r\n  type Subscription {\r\n    familyConnected(familyIds:[ID!]): Family,\r\n    familyChanged:Info\r\n    familyGroupChanged:Info\r\n    classGroupChanged:Info\r\n    studentsAdded:Info\r\n    workGroupChanged:Info\r\n    colleaguesAdded:Info\r\n    myOldcolleaguesChanged:Info\r\n    locationGroupChanged:LocationGroupChangedInfo\r\n    locationGroupAdded(userId:String):LocationGroup\r\n    messageAdded(userId: String):Message\r\n    gMessageAdded(userId: String, groupIds: [String]):GroupMessage\r\n  }\r\n\r\n  type LocationGroupChangedInfo{\r\n    toId:String\r\n    groupId:String\r\n    userid:String\r\n    username:String\r\n    userAvatar:String\r\n    type:String\r\n  }\r\n\r\n  type Info {\r\n    text:String\r\n  }\r\n\r\n  type BatchPayload {\r\n    count: Int!\r\n  }\r\n\r\n  type AuthPayload {\r\n    token: String!\r\n    user: User!\r\n  }\r\n\r\n  type Post {\r\n    id: ID!\r\n    createdAt: DateTime!\r\n    updatedAt: DateTime!\r\n    isPublished: Boolean!\r\n    title: String!\r\n    content: String!\r\n    author: User!\r\n  }\r\n\r\n  type User {\r\n    id: ID!\r\n    username: String!\r\n    name:String\r\n    gender:String\r\n    avatar:Photo\r\n    birthdaycalendar:String\r\n    birthday:String\r\n    birthplace:Location\r\n    residence:Location\r\n    posts: [Post!]!\r\n    createdAt: String!\r\n    families:[Family]\r\n    studies:[SchoolEdu]\r\n    works:[Work]\r\n    exam:CollegeEntranceExam\r\n    regStatus:RegStatus\r\n    regTimes:Int\r\n    messages:[Message]\r\n    groupMessages:[GroupMessage]\r\n    friends: [User]\r\n    relativefamilyGroups:[FamilyGroup]\r\n    classGroups:[ClassGroup]\r\n    classMate:[ClassMate]\r\n    workGroups:[WorkGroup]\r\n    colleagues:[Colleague]\r\n    loveWoman:LoveMatching\r\n    loveMan:LoveMatching\r\n    locationGroups:[LocationGroup]\r\n    loveSetting:LoveSetting\r\n    signUpLove:LoveSignUp\r\n    skills:[Skill]\r\n    projects:[Project]\r\n    fitConditions:[PartnerCondition]\r\n    nofitConditions:[PartnerCondition]\r\n  }\r\n\r\n  type Photo {\r\n    id:ID\r\n    name:String\r\n    url:String\r\n    user:User\r\n  }\r\n\r\n\r\n  type Person {\r\n    id: ID!\r\n    name:String!\r\n    user:User\r\n    asFather: [FamilyGroup]\r\n    asMother: [FamilyGroup]\r\n  }\r\n\r\n  type Family {\r\n    id: ID!\r\n    from:User!\r\n    to:Person!\r\n    relationship:String!\r\n    status:String!\r\n    spouse:Family\r\n  }\r\n\r\n  type BasicInfo {\r\n    id: ID!\r\n    user:User!\r\n  }\r\n\r\n  type Work{\r\n    id:ID!\r\n    startTime:String\r\n    endTime:String\r\n    company:Company\r\n    department:String\r\n    post:Station\r\n    jobContent:String\r\n    worker:User\r\n  }\r\n\r\n  type Company{\r\n    id: ID! \r\n    name:String \r\n    code:String \r\n    establishmentDate:String\r\n    representative:String\r\n    location:Location\r\n    BusinessScope:String\r\n    works:[Work!]!\r\n    workGroup:WorkGroup\r\n  }\r\n\r\n  \r\n  enum Educationkind {\r\n    PrimarySchool, #初等教育-小学\r\n    JuniorMiddleSchool,#中等教育-初中\r\n    HighSchool, #中等教育-高中\r\n    VocationalHighSchool, #中等教育-职业中学教育\r\n    TechnicalSchool, #中等教育-技工学校教育\r\n    SecondarySpecializedSchool, #中等教育-中等专业教育\r\n    JuniorCollege,#普通高等教育-大专\r\n    Undergraduate,#普通高等教育-本科\r\n    Master,#普通高等教育-硕士研究生\r\n    Doctor,#普通高等教育-博士研究生\r\n    JuniorToCollege ,#成人高等教育-专科起点本科\r\n    HighToCollege,#成人高等教育-高中起点升本科\r\n    HighToJunior,#成人高等教育-高中起点升专科\r\n  }\r\n\r\n\r\n\r\n  # 学校\r\n  type School {\r\n    id: ID!\r\n    name:String\r\n    kind:Educationkind\r\n    location:Location\r\n  }\r\n  # 学校开设的课程\r\n  type SchoolEdu{\r\n    id: ID!\r\n    school:School\r\n    startTime:String!\r\n    major:Major\r\n    grade:Int\r\n    className:String\r\n    students:[User]\r\n  }\r\n\r\n  type Major {\r\n    id: ID!\r\n    name: String!\r\n    category:String!\r\n    education:Educationkind!\r\n    universities:[University!]!\r\n  }\r\n\r\n  type University {\r\n    id: ID!\r\n    name: String!\r\n    education:Educationkind\r\n    department:String\r\n    location:String\r\n    desc:String\r\n  }\r\n\r\n  type CollegeEntranceExam {\r\n    id: ID!\r\n    province:Province!\r\n    subject:String!\r\n    culscore:Float!\r\n    proscore:Float\r\n    candidatenum:String!\r\n    times:Int\r\n    student:User!\r\n  }\r\n\r\n  type RegStatus {\r\n    id: ID!\r\n    education:Educationkind!\r\n    university:University\r\n    major:Major!\r\n    applicants:[User]\r\n    messages:[GroupMessage]\r\n  }\r\n\r\n  type Location {\r\n    id: ID! \r\n    name:String\r\n    province:Province\r\n    city:City\r\n    area:Area\r\n    street:Street\r\n    village:Village\r\n    schools:[School]\r\n    companies:[Company]\r\n    universities:[University]\r\n    borns:[User]\r\n    lives:[User]\r\n  }\r\n\r\n  type Province {\r\n    id:ID!\r\n    code:String!\r\n    name:String!\r\n    cities:[City!]!\r\n    people:[User!]!\r\n  }\r\n\r\n  type City {\r\n    id:ID!\r\n    code:String!\r\n    name:String!\r\n    province:Province!\r\n    areas:[Area!]!\r\n    people:[User!]!\r\n  }\r\n\r\n  type Area {\r\n    id:ID!\r\n    code:String!\r\n    name:String!\r\n    city:City!\r\n    towns:[Street!]!\r\n    people:[User!]!\r\n  }\r\n\r\n  type Street {\r\n    id:ID!\r\n    code:String!\r\n    name:String!\r\n    Area:Area!\r\n    villages:[Village!]!\r\n    people:[User!]!\r\n  }\r\n\r\n  type Village {\r\n    id:ID!\r\n    code:String!\r\n    name:String!\r\n    street:Street!\r\n    people:[User!]!\r\n  }\r\n\r\n\r\ntype FamilyGroup{\r\n  id:ID! \r\n  creater:User \r\n  father:Person \r\n  mother:Person\r\n  name: String\r\n  families: [Family]\r\n  messages: [GroupMessage]\r\n  users:[User]\r\n}\r\n\r\ntype ClassMate{\r\n  id: ID!\r\n  student:User\r\n  status:String!\r\n  group:ClassGroup!\r\n}\r\n\r\ntype ClassGroup{\r\n  id:ID!\r\n  study:SchoolEdu\r\n  name:String\r\n  members:[ClassMate]\r\n  messages: [GroupMessage]\r\n}\r\n\r\ntype Colleague{\r\n  id: ID! \r\n  worker:User\r\n  status:String!\r\n  group:WorkGroup\r\n}\r\n\r\ntype OldColleague{\r\n  id: ID!\r\n  from:User\r\n  to:User\r\n  company:Company\r\n  status:String!\r\n}\r\n\r\ntype WorkGroup{\r\n  id:ID! \r\n  company:Company\r\n  colleagues:[Colleague]\r\n  messages: [GroupMessage]\r\n}\r\n\r\nenum LocationGroupKind {\r\n  HomeVillage, #老家\r\n  ResidenceVillage,#现住地\r\n  VillageInResidenceVillage, #同村的在相同的街道老乡\r\n  StreetInResidenceVillage, #同镇的在相同的街道老乡\r\n  AreaInResidenceVillage, #同区的在相同的街道老乡\r\n  CityInResidenceVillage, #同市的在相同的街道老乡\r\n  ProvinceInResidenceVillage, #同省的在相同的街道老乡\r\n  VillageInResidenceStreet, #同村的在相同的镇老乡\r\n  StreetInResidenceStreet, #同镇的在相同的镇老乡\r\n  AreaInResidenceStreet, #同区的在相同的镇老乡\r\n  CityInResidenceStreet, #同市的在相同的镇老乡\r\n  ProvinceInResidenceStreet, #同省的在相同的镇老乡\r\n  VillageInResidenceArea, #同村的在相同的区老乡\r\n  StreetInResidenceArea, #同镇的在相同的区老乡\r\n  AreaInResidenceArea, #同区的在相同的区老乡\r\n  CityInResidenceArea, #同市的在相同的区老乡\r\n  ProvinceInResidenceArea, #同省的在相同的区老乡\r\n  VillageInResidenceCity, #同村的在相同的市老乡\r\n  StreetInResidenceCity, #同镇的在相同的市老乡\r\n  AreaInResidenceCity, #同区的在相同的市老乡\r\n  CityInResidenceCity, #同市的在相同的市老乡\r\n  ProvinceInResidenceCity, #同省的在相同的市老乡\r\n}\r\n\r\ntype LocationGroup{\r\n  id:ID!\r\n  kind:LocationGroupKind\r\n  code:String\r\n  name:String\r\n  users:[User!]!\r\n  messages:[GroupMessage]\r\n}\r\n\r\n\r\ntype Message {\r\n  id:ID!\r\n  to: User\r\n  from: User \r\n  text: String\r\n  image: Photo\r\n  createdAt: DateTime!\r\n}\r\n\r\nenum GroupKind {\r\n  Family, #家人\r\n  ClassMate,#同学\r\n  Colleague, #同事\r\n  FellowTownsman, #同乡\r\n  SameCity, #同城\r\n  SameOccupation, #同行\r\n  SameDisease,#同病\r\n  RegStatus,#高考报名群\r\n}\r\n\r\ntype GroupMessage {\r\n  id:ID!\r\n  type:GroupKind\r\n  to: String \r\n  from: User\r\n  text: String\r\n  image: Photo\r\n  createdAt: DateTime!\r\n}\r\n\r\ntype Station {\r\n  id:ID!\r\n  code:String\r\n  name:String\r\n}\r\n\r\ntype FindPassWord{\r\n  id:ID\r\n  times:Int\r\n  forgetter:User\r\n  remmember:[User]\r\n}\r\n\r\ntype RegisterCount{\r\n  id:ID!\r\n  addUser:User\r\n  deviceId:String\r\n  createdAt:DateTime!\r\n}\r\n\r\ntype BootCount{\r\n  id:ID!\r\n  bootUser:User\r\n  createdAt: DateTime!\r\n}\r\n\r\ntype VisitCount{\r\n  userNum:Int,\r\n  addNum:Int,\r\n  visits:String\r\n}\r\n\r\ntype Advertisement{\r\n  id:ID!\r\n  image1:String\r\n  image2:String\r\n  image3:String\r\n  image4:String\r\n  image5:String\r\n  startTime:DateTime\r\n  endTime:DateTime\r\n\r\n}\r\n\r\ntype Product{\r\n  id:ID! \r\n  subject:String\r\n  info:String\r\n  price:Float\r\n}\r\n\r\ntype Trade{\r\n  id:ID! \r\n  product:Product\r\n  number:Int\r\n  amount:Float\r\n  user:User\r\n  status:String\r\n  signedStr:String\r\n}\r\n\r\ntype LoveSetting{\r\n  id:ID!\r\n  myHeight:Int\r\n  myWeight:Int\r\n  otherHeightMin:Int\r\n  otherHeightMax:Int\r\n  otherWeightMin:Int\r\n  otherWeightMax:Int\r\n  otherAgeMin:Int\r\n  otherAgeMax:Int\r\n  dateTime:String\r\n  datePlace:String\r\n  memeberGrade:Int\r\n  memeberGradeEndTime:DateTime\r\n  user:User!\r\n}\r\n\r\n# 报名情况\r\ntype LoveSignUp{\r\n  id:ID!\r\n  period:String\r\n  city:City\r\n  person:User\r\n}\r\n\r\n# 匹配情况\r\ntype LoveMatching{\r\n  id:ID!\r\n  period:String\r\n  city:City\r\n  woman:User\r\n  man:User\r\n}\r\n\r\ntype Skill{\r\n  id:ID!\r\n  name:String\r\n  persons:[User]\r\n}\r\n\r\n\r\ntype Project{\r\n  id:ID!\r\n  name:String\r\n  place:City\r\n  content:String\r\n  conditions:[PartnerCondition]\r\n  starter:User\r\n}\r\n\r\ntype PartnerCondition{\r\n  id:ID!\r\n  skillName:String\r\n  place:String\r\n  number:Int\r\n  partners:[User]\r\n  passedPartners:[User] \r\n  project:Project\r\n}\r\n\r\n\r\n`\r\n"],"file":"schema.js"}